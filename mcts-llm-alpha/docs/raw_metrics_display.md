# 原始评估指标值显示功能

## 概述

MCTS-LLM Alpha系统现在支持同时显示归一化分数（0-10范围）和原始评估指标值，让用户能够更深入地了解Alpha因子的真实表现。

## 显示的原始指标

系统现在会显示以下原始评估指标：

1. **IC (Information Coefficient)**
   - 因子值与未来收益的相关性
   - 典型范围：-0.05 到 0.05
   - 越高越好（正值表示正相关）

2. **ICIR (Information Coefficient Information Ratio)**
   - IC的稳定性指标，IC均值除以IC标准差
   - 典型范围：-2 到 2
   - 越高越好（表示信号稳定）

3. **Turnover（换手率）**
   - 因子信号的稳定性（0-1之间）
   - 越高越好（高值表示低换手）

4. **Diversity（多样性）**
   - 与现有因子的差异度（0-1之间）
   - 越高越好（高值表示更独特）

5. **Overfitting（过拟合风险）**
   - 样本内外表现的一致性（0-1之间）
   - 越高越好（高值表示低过拟合）

## 输出格式示例

```
📊 初始公式信息:
公式: Rank((($close - Ref($close, 10)) / Ref($close, 10)) * Mean($volume, 10)), 5)
归一化评分: Effectiveness=7.50, Stability=8.20, Turnover=9.00, Diversity=8.50, Overfitting=5.00
整体分数: 7.64
原始指标: IC=0.0234, ICIR=1.8567, Turnover=0.8234, Diversity=0.7890, Overfitting=0.5000

前5个入库Alpha因子:

[1] Rank((($close - Mean($close, 20)) / Mean($close, 20)), 10) * ($volume / Mean($volume, 15))
    归一化分数:
      有效性: 7.50
      稳定性: 8.20
      换手率: 9.00
      多样性: 8.50
      过拟合: 5.00
      整体分数: 7.64
    原始指标值:
      IC: 0.0234
      ICIR: 1.8567
      换手率: 0.8234
      多样性: 0.7890
      过拟合: 0.5000
```

## 分数映射说明

系统使用以下映射将原始指标转换为0-10分：

### IC → Effectiveness (有效性)
- IC < -0.2: 0分
- IC ∈ [-0.2, -0.05]: 0-2分
- IC ∈ [-0.05, 0]: 2-5分
- IC ∈ [0, 0.05]: 5-8分
- IC ∈ [0.05, 0.2]: 8-10分
- IC > 0.2: 10分

### ICIR → Stability (稳定性)
- 使用tanh函数平滑映射
- ICIR ∈ [-5, 5]映射到[0, 10]
- 0附近有较好的线性度

### Turnover → Turnover Score
- 使用平方根函数映射
- 低换手率获得更高分数的区分度

### Diversity → Diversity Score
- 线性映射[0, 1]到[0, 10]

### Overfitting → Overfitting Score
- 使用0.7次方函数映射
- 使高分更难获得

## 使用建议

1. **IC值解读**：
   - IC > 0.03：优秀的预测能力
   - IC ∈ [0.01, 0.03]：良好的预测能力
   - IC ∈ [0, 0.01]：弱预测能力
   - IC < 0：负相关，可能需要反转信号

2. **ICIR值解读**：
   - ICIR > 1.5：非常稳定的信号
   - ICIR ∈ [0.5, 1.5]：较稳定的信号
   - ICIR < 0.5：不稳定的信号

3. **综合判断**：
   - 不要只看归一化分数，原始值提供更多细节
   - IC和ICIR同时高才是好因子
   - 低换手率（高Turnover分数）有助于降低交易成本

## 配置选项

可以通过配置文件调整显示选项：

```yaml
display:
  show_raw_scores: true  # 是否显示原始分数
  decimal_places: 4      # 原始分数的小数位数
```

## 注意事项

1. 原始指标值仅在使用真实数据评估时可用
2. 模拟评估模式不会产生原始指标值
3. 缓存的评估结果也会包含原始指标值